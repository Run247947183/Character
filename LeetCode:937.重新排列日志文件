class Solution {
    public String[] reorderLogFiles(String[] logs) {
        int n = logs.length;
        String[] res = new String[n];
        List<String> number = new ArrayList<>();
        PriorityQueue<String> pq = new PriorityQueue<>((o1, o2) -> {
            int p1 = o1.indexOf(" ");
            int p2 = o2.indexOf(" ");
            String head1 = o1.substring(0, p1);
            String rest1 = o1.substring(p1 + 1);
            String head2 = o2.substring(0, p2);
            String rest2 = o2.substring(p2 + 1);
            if(!rest1.equals(rest2)) return rest1.compareTo(rest2);
            else return head1.compareTo(head2);
        });
        for(int i = 0; i < n; i++){
            String s = logs[i];
            int p = s.indexOf(" ");
            if(Character.isDigit(s.charAt(p+1))){
                number.add(s);
            }
            else pq.add(s);     
        }
        int index = 0;
        while(!pq.isEmpty()) res[index++] = pq.poll();
        for(String str : number) res[index++] = str;
        return res;
    }
}
